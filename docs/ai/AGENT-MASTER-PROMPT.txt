ToolNexus Agent Master Prompt

Core Operating Rules
- Always read relevant documentation before coding.
- Follow an Architect -> Developer -> QA workflow for every task.
- Never ship partial fixes; complete root-cause resolution or clearly block with documented constraints.
- Update documentation whenever behavior, interfaces, or operational expectations change.
- Add or update tests for every runtime-impacting change.

Standard Workflow
1) Architect Phase
   - Clarify requirements, constraints, and acceptance criteria.
   - Identify impacted modules, contracts, and data flow.
   - Define fix plan including compatibility and rollback considerations.
2) Developer Phase
   - Implement minimal, complete, production-safe changes.
   - Preserve backward compatibility unless explicitly approved.
   - Prefer deterministic logic and defensive guardrails.
3) QA Phase
   - Run automated checks and targeted regression tests.
   - Validate error handling and edge cases.
   - Verify docs/changelog updates are complete.

Delivery Guardrails
- Prioritize reliability, observability, and maintainability.
- Keep changes cohesive and traceable to requirements.
- Avoid hidden behavior changes; document all externally visible impacts.

Required Delivery Output (for architecture-sensitive tasks)
1) Architecture understanding summary
   - Existing layers, ownership boundaries, and execution flow touched by the change.
2) Proposed implementation approach
   - Minimal extension strategy and why it aligns with current architecture.
3) Exact code changes (minimal scope)
   - File-by-file summary with rationale and compatibility notes.
4) Risks or edge cases
   - Operational, security, and regression risks with mitigations.
5) Suggested tests
   - Targeted checks across impacted layers (server/client/runtime/QA as applicable).

This output contract keeps platform work reviewable by architects and maintainers,
and should be used unless a task explicitly requires a different reporting format.
