/* ==========================
ENTERPRISE UI SYSTEM
========================== */
:root {
  --space-xs: 8px;
  --space-sm: 16px;
  --space-md: 24px;
  --space-lg: 32px;
  --space-xl: 40px;
  --space-2xl: 48px;

  --type-display: clamp(2rem, 3.6vw, 3rem);
  --type-h1: 2rem;
  --type-h2: 1.5rem;
  --type-h3: 1.125rem;
  --type-body: 1rem;
  --type-caption: 0.875rem;

  --color-primary: var(--accent);
  --color-secondary: var(--accent-soft);
  --color-surface: var(--bg-secondary);
  --color-border: var(--border-default);
  --color-text-primary: var(--text-primary);
  --color-text-muted: var(--text-muted);

  --elevation-1: var(--shadow-sm);
  --elevation-2: var(--shadow-md);
  --elevation-3: var(--shadow-lg);

  --radius-control: var(--radius-md);
  --radius-panel: var(--radius-lg);
  --page-max-width: 1200px;
}

:where(.container, .footer__container, .topbar__inner) {
  width: min(var(--page-max-width), calc(100% - (var(--container-gutter) * 2)));
}

:where(.tool-page, .static-page, .home-page, .tools-index) {
  gap: var(--space-lg);
}

:where(.tool-page h1, .tool-page__heading h1) {
  font-size: var(--type-h1);
  line-height: 1.2;
  margin-bottom: var(--space-xs);
}

:where(.tool-page__description, .tool-page__heading p) {
  font-size: var(--type-body);
  color: var(--color-text-muted);
}

:where(.tool-layout, .tn-tool-body) {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-sm);
}

:where(.tool-layout__panel, .tool-panel, .tn-tool-panel) {
  border-radius: var(--radius-panel);
  border: 1px solid var(--color-border);
  background: var(--panel-bg);
  box-shadow: var(--elevation-1);
  padding: var(--space-sm);
  min-height: 100%;
}

:where(#tool-root[data-tool-root="true"]) {
  min-height: 24rem;
  contain: layout paint style;
}

:where(.tool-btn, .hero-btn, .contact-form__submit) {
  border-radius: var(--radius-control);
  min-height: var(--control-md);
}

:where(.tool-btn:focus-visible, .hero-btn:focus-visible, .topbar__explore:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible) {
  box-shadow: var(--focus-ring);
}

:where(.tn-tool-shell) {
  display: grid;
  gap: var(--space-sm);
}

:where(.tn-tool-header) {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-sm);
  flex-wrap: wrap;
}

:where(.tn-tool-footer) {
  color: var(--color-text-muted);
  font-size: var(--type-caption);
}

:where(.tool-runtime-fallback) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  padding: var(--space-sm);
  background: var(--panel-bg);
  min-height: 24rem;
}

@media (max-width: 1024px) {
  :where(.tool-layout, .tn-tool-body, .hero__container, .contact-grid, .tool-ux__grid) {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  :where(.container) {
    padding-block: var(--space-sm) var(--space-lg);
  }

  :where(.tool-layout__panel, .tool-panel, .tn-tool-panel) {
    padding: var(--space-xs);
  }
}

:where(.tn-unified-tool-control) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  background: var(--panel-bg);
  box-shadow: var(--elevation-1);
  padding: var(--runtime-density-padding);
  gap: var(--runtime-density-gap);
}

:where(.tn-unified-tool-control__header) {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: var(--runtime-density-gap);
}


:where([data-tool-context="true"]) {
  padding: var(--runtime-density-padding);
  border-radius: var(--radius-md);
  background: var(--runtime-input-surface);
  border: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
}

:where(.tn-unified-tool-control__input) {
  display: grid;
  gap: var(--runtime-density-gap);
  padding: var(--runtime-density-padding);
  border-radius: var(--radius-md);
  background: var(--runtime-input-surface);
  border: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
}

:where([data-tool-status="true"]) {
  padding: 0;
  background: transparent;
  border: 0;
  box-shadow: none;
}

:where(.tn-unified-tool-control__icon) {
  width: var(--control-sm);
  height: var(--control-sm);
  border-radius: var(--radius-md);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: var(--type-micro);
  font-weight: 700;
  letter-spacing: 0.04em;
  color: var(--text-primary);
  background: color-mix(in srgb, var(--accent) 24%, var(--panel-bg));
  border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);
}

:where(.tn-unified-tool-control__title-wrap h2) {
  font-size: var(--type-h3);
  line-height: var(--line-tight);
  margin: 0;
}

:where(.tn-unified-tool-control__title-wrap p) {
  margin: 0;
  color: var(--text-muted);
  font-size: var(--type-caption);
  line-height: var(--line-snug);
}

:where(.tn-unified-tool-control__body) {
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tn-unified-tool-control__actions) {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  column-gap: var(--runtime-density-gap);
  row-gap: var(--space-1);
  padding-top: var(--space-2);
  border-top: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
}

:where(.tn-unified-tool-control__run) {
  min-height: calc(var(--control-md) + 8px);
  padding-inline: var(--space-sm);
  font-size: var(--type-body);
  font-weight: 700;
  border-width: 2px;
  box-shadow: 0 8px 18px color-mix(in srgb, var(--accent) 24%, transparent);
  transition: transform 140ms ease, box-shadow 180ms ease, filter 160ms ease;
}

:where(.tn-unified-tool-control__run:hover:not(:disabled)) {
  transform: translateY(-1px);
  filter: saturate(1.08);
  box-shadow: 0 12px 24px color-mix(in srgb, var(--accent) 30%, transparent);
}

:where(.tn-unified-tool-control__run:active:not(:disabled)) {
  transform: translateY(0);
  box-shadow: 0 6px 14px color-mix(in srgb, var(--accent) 22%, transparent);
}

:where(.tn-unified-tool-control__run:focus-visible) {
  outline: 2px solid color-mix(in srgb, var(--accent) 85%, white 15%);
  outline-offset: 2px;
}

:where(.tn-unified-tool-control__run[data-runtime-state="validating"],
  .tn-unified-tool-control__run[data-runtime-state="running"],
  .tn-unified-tool-control__run[data-runtime-state="streaming"]) {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 35%, transparent), 0 10px 20px color-mix(in srgb, var(--accent) 26%, transparent);
}

:where(.tn-unified-tool-control__run[data-runtime-state="success"]) {
  border-color: color-mix(in srgb, var(--success) 56%, var(--accent));
  box-shadow: 0 10px 20px color-mix(in srgb, var(--success) 30%, transparent);
}

:where(.tn-unified-tool-control__run[data-runtime-state="warning"],
  .tn-unified-tool-control__run[data-runtime-state="uncertain"]) {
  border-color: color-mix(in srgb, var(--warning) 60%, var(--accent));
  box-shadow: 0 10px 20px color-mix(in srgb, var(--warning) 34%, transparent);
}

:where(.tn-unified-tool-control__run[data-runtime-state="failed"]) {
  border-color: color-mix(in srgb, var(--danger) 60%, var(--accent));
  box-shadow: 0 10px 20px color-mix(in srgb, var(--danger) 34%, transparent);
}

:where(.tn-unified-tool-control__execution-hint) {
  font-size: var(--type-micro);
  color: var(--text-muted);
  padding: 0 var(--space-1);
  border-left: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
}

:where(.tn-unified-tool-control__suggestion-badge, .tn-unified-tool-control__suggestion-reason) {
  margin-left: auto;
}

:where(.tn-unified-tool-control__status) {
  margin: 0;
  font-size: var(--type-caption);
  color: var(--text-primary);
  border: 1px solid color-mix(in srgb, var(--accent) 25%, var(--color-border));
  border-radius: var(--radius-pill);
  background: var(--runtime-status-surface);
  padding: var(--runtime-status-padding) var(--space-2);
  width: fit-content;
}


:where(.tn-unified-tool-control__status-note) {
  margin: var(--space-1) 0 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
}

:where(.tn-unified-tool-control__status[data-execution-state="idle"]) {
  border-color: color-mix(in srgb, var(--color-border) 90%, transparent);
}

:where(.tn-unified-tool-control__status[data-execution-state="validating"],
  .tn-unified-tool-control__status[data-execution-state="running"],
  .tn-unified-tool-control__status[data-execution-state="streaming"]) {
  border-color: color-mix(in srgb, var(--accent) 45%, var(--color-border));
  background: color-mix(in srgb, var(--accent-soft) 38%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="success"]) {
  border-color: color-mix(in srgb, var(--success) 45%, var(--color-border));
  background: color-mix(in srgb, var(--success-soft) 44%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="warning"],
  .tn-unified-tool-control__status[data-execution-state="uncertain"]) {
  border-color: color-mix(in srgb, var(--warning) 50%, var(--color-border));
  background: color-mix(in srgb, var(--warning-soft) 48%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="failed"]) {
  border-color: color-mix(in srgb, var(--danger) 45%, var(--color-border));
  background: color-mix(in srgb, var(--danger-soft) 42%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__output) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--runtime-density-padding);
  background: var(--runtime-output-surface);
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tn-unified-tool-control__output-block) {
  margin: 0;
  display: grid;
  gap: var(--space-1);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--color-border) 85%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 90%, transparent);
}

:where(.tn-unified-tool-control__output-block--primary) {
  background: color-mix(in srgb, var(--bg-elevated) 94%, transparent);
  border-color: color-mix(in srgb, var(--accent) 24%, var(--color-border));
}

:where(.tn-unified-tool-control__output-label) {
  margin: 0;
  font-size: var(--type-micro);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--text-muted);
}

:where([data-tool-input="true"]) {
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--accent) 8%, transparent);
}

:where([data-tool-output="true"]) {
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--success) 10%, transparent);
}


:where(.tn-unified-tool-control__supporting[data-ai-layer]) {
  margin: 0;
  font-size: var(--type-caption);
  line-height: var(--line-snug);
  white-space: pre-wrap;
  word-break: break-word;
}

:where(.tn-unified-tool-control__preview, .tn-unified-tool-control__result) {
  margin: 0;
  font-size: var(--type-body);
  line-height: var(--line-snug);
  white-space: pre-wrap;
  word-break: break-word;
}

:where(.tn-unified-tool-control__details > summary) {
  cursor: pointer;
  font-size: var(--type-caption);
  color: var(--text-muted);
}

:where(.tn-unified-tool-control__errors) {
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tool-auto-runtime__group) {
  margin: 0;
  padding: 0;
  border: 0;
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tool-auto-runtime__group h3) {
  margin: 0;
  font-size: var(--type-micro);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--text-muted);
}

:where(.tool-auto-runtime__field) {
  display: grid;
  gap: var(--space-1);
}

:where(.tool-auto-runtime__field label) {
  font-size: var(--type-caption);
  color: var(--text-secondary, var(--text-muted));
}

:where(.tool-auto-runtime__field input[type="text"],
  .tool-auto-runtime__field input[type="number"],
  .tool-auto-runtime__field textarea) {
  width: 100%;
  min-height: var(--control-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--panel-bg);
  color: var(--text-primary);
  padding: var(--space-1) var(--space-2);
}

:where(.tool-auto-runtime__field textarea) {
  resize: vertical;
  min-height: 96px;
}

:where(.tool-auto-runtime__hint) {
  margin: 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
}

:where(.tool-auto-runtime__error) {
  border: 1px solid color-mix(in srgb, var(--danger) 50%, transparent);
  background: color-mix(in srgb, var(--danger-soft) 70%, var(--panel-bg));
  border-radius: var(--radius-md);
  padding: var(--space-1) var(--space-2);
  font-size: var(--type-caption);
}


:where(.tool-auto-runtime__resolution-warning) {
  margin: var(--space-1) 0 0;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-pill);
  border: 1px solid color-mix(in srgb, var(--warning, #f8cc86) 45%, transparent);
  background: color-mix(in srgb, var(--warning-soft, rgba(248, 204, 134, 0.2)) 70%, transparent);
  color: var(--text-primary);
  font-size: var(--type-micro);
  width: fit-content;
}


:where(.tool-container) {
  width: 100%;
}

:where(.tool-container--inline) {
  margin-top: var(--space-sm);
  border: 1px dashed color-mix(in srgb, var(--accent) 35%, var(--color-border));
  border-radius: var(--radius-panel);
  padding: var(--space-xs);
  background: color-mix(in srgb, var(--panel-bg) 92%, black 8%);
}

:where(.tool-container--panel) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  padding: var(--space-sm);
  background: var(--panel-bg);
  box-shadow: var(--elevation-1);
}

:where(.tool-container--popover) {
  position: absolute;
  inset: auto var(--space-sm) var(--space-sm) auto;
  width: min(540px, calc(100vw - (var(--space-sm) * 2)));
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  background: var(--panel-bg);
  box-shadow: var(--elevation-3);
  padding: var(--space-xs);
  z-index: 20;
}

:where(.tool-container--command) {
  border: 1px solid color-mix(in srgb, var(--accent) 45%, var(--color-border));
  border-radius: 12px;
  background: color-mix(in srgb, var(--panel-bg) 80%, var(--accent-soft));
  padding: var(--space-xs);
}

/* ==========================
TOOL SHELL PROFESSIONAL EXECUTION POLISH
========================== */
:where(.tool-identity-header) {
  grid-template-columns: minmax(0, 1fr) auto;
  gap: var(--runtime-card-gap);
  padding: var(--runtime-surface-padding);
  border-color: color-mix(in srgb, var(--accent) 12%, var(--color-border));
  box-shadow: 0 10px 26px color-mix(in srgb, var(--accent) 10%, transparent);
}

:where(.tool-identity-header__content h1) {
  font-size: clamp(1.85rem, 2.5vw, 2.5rem);
  line-height: var(--line-tight);
  letter-spacing: -0.02em;
  margin: 0;
}

:where(.tool-identity-header__intent) {
  margin: 0;
  max-width: 68ch;
  color: var(--text-muted);
  font-size: var(--type-body);
  line-height: var(--line-relaxed);
}

:where(.tool-shell-page__hero-meta .chip) {
  border-color: color-mix(in srgb, var(--accent) 18%, var(--color-border));
  background: color-mix(in srgb, var(--bg-secondary) 92%, var(--accent-soft));
}

:where(.tn-unified-tool-control__input) {
  padding: var(--runtime-surface-padding);
  border: 1px solid color-mix(in srgb, var(--accent) 20%, var(--color-border));
  box-shadow: 0 8px 20px color-mix(in srgb, black 10%, transparent);
  gap: var(--runtime-card-gap);
}

:where(.tn-unified-tool-control__actions) {
  align-items: center;
  justify-content: space-between;
  gap: var(--space-2);
}

:where(.tn-unified-tool-control__actions-primary,
  .tn-unified-tool-control__actions-secondary) {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

:where(.tn-unified-tool-control__actions-secondary) {
  margin-left: auto;
}

:where(.tn-unified-tool-control__run) {
  min-width: 180px;
  font-size: var(--type-body);
}

:where(.tn-unified-tool-control__output) {
  padding: var(--runtime-surface-padding);
  border-color: color-mix(in srgb, var(--success) 18%, var(--color-border));
  box-shadow: 0 8px 24px color-mix(in srgb, var(--success) 8%, transparent);
}

:where(.tn-unified-tool-control__output-block) {
  border-color: color-mix(in srgb, var(--color-border) 76%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 96%, transparent);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="supporting"]) {
  font-size: var(--type-body);
  line-height: var(--line-relaxed);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="metadata"]) .tn-unified-tool-control__metadata {
  display: grid;
  gap: var(--space-1);
  font-size: var(--type-caption);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="diagnostics"]) {
  border-style: dashed;
  opacity: 0.9;
}

:where(.tool-article-prose) {
  max-width: min(100%, 76ch);
}

:where(.tool-article-prose section, .tool-article-prose article) {
  display: grid;
  gap: var(--space-2);
}

:where(.tool-article-prose h2) {
  font-size: var(--type-h2);
  line-height: var(--line-tight);
  margin: var(--space-4) 0 var(--space-2);
}

:where(.tool-article-prose h3) {
  font-size: var(--type-h3);
  margin: var(--space-3) 0 var(--space-1);
}

:where(.tool-article-prose p, .tool-article-prose li) {
  max-width: var(--runtime-doc-max-width);
  line-height: var(--line-relaxed);
  color: var(--text-secondary);
}

@media (max-width: 900px) {
  :where(.tn-unified-tool-control__actions) {
    flex-direction: column;
    align-items: stretch;
  }

  :where(.tn-unified-tool-control__actions-secondary) {
    margin-left: 0;
  }

  :where(.tn-unified-tool-control__run) {
    width: 100%;
  }
}
