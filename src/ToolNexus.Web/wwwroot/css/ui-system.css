/* ==========================
ENTERPRISE UI SYSTEM
========================== */
:root {
  --space-xs: 8px;
  --space-sm: 16px;
  --space-md: 24px;
  --space-lg: 32px;
  --space-xl: 40px;
  --space-2xl: 48px;

  --type-display: clamp(2rem, 3.6vw, 3rem);
  --type-h1: 2rem;
  --type-h2: 1.5rem;
  --type-h3: 1.125rem;
  --type-body: 1rem;
  --type-caption: 0.875rem;

  --color-primary: var(--accent);
  --color-secondary: var(--accent-soft);
  --color-surface: var(--bg-secondary);
  --color-border: var(--border-default);
  --color-text-primary: var(--text-primary);
  --color-text-muted: var(--text-muted);

  --elevation-1: var(--shadow-sm);
  --elevation-2: var(--shadow-md);
  --elevation-3: var(--shadow-lg);

  --radius-control: var(--radius-md);
  --radius-panel: var(--radius-lg);
  --tool-page-max-width-authority: 1180px;
  --page-max-width: 1180px;
  --exec-gap-tight: var(--tn-exec-space-1, var(--space-1));
  --exec-gap-normal: var(--tn-exec-space-2, var(--space-2));
  --exec-gap-loose: var(--tn-exec-space-3, var(--space-3));

  /* GLOBAL EXECUTION DNA TOKENS (tool-agnostic) */
  --exec-action-primary-min-width: 156px;
  --exec-action-primary-height: calc(var(--control-md) + 4px);
  --exec-action-primary-weight: 700;
  --exec-action-group-gap: 11px;
  --exec-action-group-indent: calc(var(--space-1) + 2px);
  --exec-workspace-columns: 1fr 1fr;
  --exec-workspace-divider: 1px solid color-mix(in srgb, var(--color-border) 64%, transparent);
  --exec-workspace-surface: color-mix(in srgb, var(--bg-secondary) 38%, var(--bg-primary));
  --exec-runtime-strip-min-height: 32px;
  --exec-runtime-strip-padding: 2px 9px;
  --exec-runtime-strip-gap: 6px;
  --exec-metrics-grid-columns: repeat(auto-fit, minmax(132px, 1fr));
  --exec-metrics-item-padding: 0.3rem 0.5rem;
  --exec-metrics-item-gap: var(--exec-cadence-12);

  /* EXECUTION AUTHORITY HUMANIZATION TOKENS */
  --workspace-dominance: 1;
  --execution-surface-anchor: 1;
  --control-recession: 1;
  --shell-passive-mode: 1;

  --exec-authority-workspace-bg: color-mix(in srgb, var(--runtime-output-surface) calc(95% + (var(--workspace-dominance) * 1%)), #000 calc(5% - (var(--workspace-dominance) * 1%)));
  --exec-authority-workspace-border: color-mix(in srgb, var(--accent) calc(18% + (var(--workspace-dominance) * 8%)), var(--color-border));
  --exec-authority-workspace-shadow: none;
  --exec-authority-action-border: color-mix(in srgb, var(--color-border) calc(72% - (var(--control-recession) * 6%)), transparent);
  --exec-authority-action-bg: color-mix(in srgb, var(--bg-secondary) calc(95% - (var(--control-recession) * 5%)), transparent);
  --exec-authority-status-opacity: calc(0.7 + ((1 - var(--shell-passive-mode)) * 0.1));
  --exec-authority-shell-border: color-mix(in srgb, var(--color-border) calc(66% - (var(--shell-passive-mode) * 10%)), transparent);
  --exec-authority-doc-opacity: calc(0.63 + ((1 - var(--control-recession)) * 0.1));

  /* Level 4 cadence: controlled human asymmetry (11/13/15) */
  --exec-cadence-11: 11px;
  --exec-cadence-12: 11px;
  --exec-cadence-13: 13px;
  --exec-cadence-15: 15px;
}

:where(.workspace-dominance) {
  --workspace-dominance: 1;
}

:where(.execution-surface-anchor) {
  --execution-surface-anchor: 1;
}

:where(.control-recession) {
  --control-recession: 1;
}

:where(.shell-passive-mode) {
  --shell-passive-mode: 1;
}

:where(.container, .footer__container, .topbar__inner) {
  width: min(var(--tool-page-max-width-authority, var(--page-max-width)), calc(100% - (var(--container-gutter) * 2)));
}

:where(.tool-shell-page) {
  --tool-shell-max-width: var(--tool-page-max-width-authority, var(--page-max-width));
  --tool-shell-rail-width: min(var(--tool-shell-max-width), calc(100% - (var(--container-gutter) * 2)));
  --tool-shell-flow-gap: clamp(3px, 0.72vw, 7px);
  --tool-shell-footer-gap: clamp(9px, 1.3vw, 15px);

  display: grid;
  grid-template-columns: minmax(0, 1fr);
  row-gap: var(--tool-shell-flow-gap);
  margin-bottom: var(--tool-shell-footer-gap);
}

:where(.tool-shell-page > h1,
  .tool-shell-page > .tool-shell-page__workspace,
  .tool-shell-page > .tool-shell-page__docs) {
  width: var(--tool-shell-rail-width);
  max-width: 100%;
  margin-inline: auto;
}

:where(.tool-shell-page > .tool-shell-page__workspace) {
  margin-block: 0;
}

:where(.tool-shell-page.workspace-shell) {
  grid-template-columns: minmax(0, 1fr);
  column-gap: 0;
  row-gap: var(--tool-shell-flow-gap);
  padding-block: 4px;
  padding-inline: 0;
}

:where(.tool-shell-page .workspace-shell__runtime-zone,
  .tool-shell-page .workspace-shell__context-rail) {
  grid-column: 1;
  position: static;
  top: auto;
  max-height: none;
  overflow: visible;
}

:where(.tool-page, .static-page, .home-page, .tools-index) {
  gap: 28px;
}

:where(.tool-page h1, .tool-page__heading h1) {
  font-size: var(--type-h1);
  line-height: 1.2;
  margin-bottom: var(--space-xs);
}

:where(.tool-page__description, .tool-page__heading p) {
  font-size: var(--type-body);
  color: var(--color-text-muted);
}

:where(.tool-layout, .tn-tool-body) {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 13px;
}

:where(.tool-layout__panel, .tool-panel, .tn-tool-panel) {
  border-radius: var(--radius-panel);
  border: 1px solid color-mix(in srgb, var(--color-border) 88%, transparent);
  background: color-mix(in srgb, var(--panel-bg) 96%, #000 4%);
  box-shadow: none;
  padding: 13px 14px;
  min-height: 100%;
}


:where(.tool-runtime-widget) {
  display: block;
}

:where(#tool-root[data-tool-root="true"]) {
  min-height: 24rem;
  contain: layout paint style;
}

:where(.tool-btn, .hero-btn, .contact-form__submit) {
  border-radius: var(--radius-control);
  min-height: var(--control-md);
}

:where(.tool-btn:focus-visible, .hero-btn:focus-visible, .topbar__explore:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible) {
  box-shadow: var(--focus-ring);
}

:where(.tn-tool-shell) {
  display: grid;
  gap: 11px;
}

:where(.tn-tool-header) {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-sm);
  flex-wrap: wrap;
}

:where(.tn-tool-footer) {
  color: var(--color-text-muted);
  font-size: var(--type-caption);
}

:where(.tool-runtime-fallback) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  padding: var(--space-sm);
  background: var(--panel-bg);
  min-height: 24rem;
}

@media (max-width: 1024px) {
  :where(.tool-layout, .tn-tool-body, .hero__container, .contact-grid, .tool-ux__grid) {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  :where(.container) {
    padding-block: var(--space-sm) var(--space-lg);
  }

  :where(.tool-layout__panel, .tool-panel, .tn-tool-panel) {
    padding: var(--space-xs);
  }
}

:where(.tn-unified-tool-control) {
  border: 1px solid color-mix(in srgb, var(--color-border) 90%, transparent);
  border-radius: var(--radius-panel);
  background: color-mix(in srgb, var(--panel-bg) 95%, #000 5%);
  box-shadow: none;
  padding: 11px 12px;
  gap: 13px;
}

:where(.tn-unified-tool-control__header) {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: var(--runtime-density-gap);
}


:where([data-tool-context="true"]) {
  padding: 11px;
  border-radius: var(--radius-md);
  background: color-mix(in srgb, var(--runtime-input-surface) 86%, transparent);
  border: 1px solid color-mix(in srgb, var(--color-border) 62%, transparent);
}

:where(.tn-unified-tool-control__input, .tn-unified-tool-control__input-card) {
  display: grid;
  gap: 11px;
  padding: 13px 15px;
  border-radius: var(--radius-md);
  background: color-mix(in srgb, var(--runtime-input-surface) 95%, transparent);
  border: 1px solid color-mix(in srgb, var(--color-border) 84%, transparent);
  box-shadow: none;
}

:where([data-tool-status="true"]) {
  padding: 1px 0;
  background: color-mix(in srgb, var(--panel-bg) 74%, transparent);
  border: 0;
  box-shadow: none;
  opacity: var(--exec-authority-status-opacity);
}

:where(.tn-unified-tool-control__icon) {
  width: var(--control-sm);
  height: var(--control-sm);
  border-radius: var(--radius-md);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: var(--type-micro);
  font-weight: 700;
  letter-spacing: 0.04em;
  color: var(--text-primary);
  background: color-mix(in srgb, var(--accent) 24%, var(--panel-bg));
  border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);
}

:where(.tn-unified-tool-control__title-wrap h2) {
  font-size: var(--type-h3);
  line-height: var(--line-tight);
  margin: 0;
}

:where(.tn-unified-tool-control__title-wrap p) {
  margin: 0;
  color: var(--text-muted);
  font-size: var(--type-caption);
  line-height: var(--line-snug);
}

:where(.tn-unified-tool-control__body) {
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tn-unified-tool-control__actions) {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  column-gap: var(--exec-cadence-14);
  row-gap: var(--exec-cadence-11);
  padding-top: 8px;
  margin-top: 2px;
  border-top: 1px solid var(--exec-authority-action-border);
  background: none;
  min-height: 40px;
}

:where(.tn-unified-tool-control__shortcut) {
  font-size: var(--type-micro);
  color: var(--text-muted);
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

:where(.tn-unified-tool-control__shortcut kbd) {
  font-family: var(--font-mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  font-size: 0.72rem;
  line-height: 1;
  padding: 2px 5px;
  border-radius: 6px;
  border: 1px solid color-mix(in srgb, var(--color-border) 85%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 90%, transparent);
}

:where(.tn-unified-tool-control__run) {
  min-height: calc(var(--control-md) + 2px);
  padding-inline: 14px;
  font-size: var(--type-body);
  font-weight: 700;
  border-width: 2px;
  box-shadow: none;
  transition: box-shadow 140ms ease, background-color 140ms ease, border-color 140ms ease, color 140ms ease;
}

:where(.tn-unified-tool-control__run:hover:not(:disabled)) {
  filter: none;
  box-shadow: none;
}

:where(.tn-unified-tool-control__run:active:not(:disabled)) {
  box-shadow: none;
}

:where(.tn-unified-tool-control__run:focus-visible) {
  outline: 2px solid color-mix(in srgb, var(--accent) 85%, white 15%);
  outline-offset: 2px;
}

:where(.tn-unified-tool-control__run[data-runtime-state="validating"],
  .tn-unified-tool-control__run[data-runtime-state="running"],
  .tn-unified-tool-control__run[data-runtime-state="streaming"]) {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 35%, transparent);
}

:where(.tn-unified-tool-control__run[data-runtime-state="success"]) {
  border-color: color-mix(in srgb, var(--success) 56%, var(--accent));
  box-shadow: none;
}

:where(.tn-unified-tool-control__run[data-runtime-state="warning"],
  .tn-unified-tool-control__run[data-runtime-state="uncertain"]) {
  border-color: color-mix(in srgb, var(--warning) 60%, var(--accent));
  box-shadow: none;
}

:where(.tn-unified-tool-control__run[data-runtime-state="failed"]) {
  border-color: color-mix(in srgb, var(--danger) 60%, var(--accent));
  box-shadow: none;
}

:where(.tn-unified-tool-control__execution-hint) {
  font-size: var(--type-micro);
  color: var(--text-muted);
  padding: 0 var(--space-1);
  border-left: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
}

:where(.tn-unified-tool-control__suggestion-badge, .tn-unified-tool-control__suggestion-reason) {
  margin-left: auto;
}

:where(.tn-unified-tool-control__status) {
  margin: 0;
  font-size: var(--type-caption);
  color: color-mix(in srgb, var(--text-primary) 82%, var(--text-muted));
  border: 1px solid color-mix(in srgb, var(--accent) 25%, var(--color-border));
  border-radius: var(--radius-pill);
  background: var(--runtime-status-surface);
  padding: var(--runtime-status-padding) var(--space-2);
  width: fit-content;
  min-height: 30px;
}


:where(.tn-unified-tool-control__status-note) {
  margin: var(--space-1) 0 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
}

:where(.tn-unified-tool-control__status[data-execution-state="idle"]) {
  border-color: color-mix(in srgb, var(--color-border) 90%, transparent);
}

:where(.tn-unified-tool-control__status[data-execution-state="validating"],
  .tn-unified-tool-control__status[data-execution-state="running"],
  .tn-unified-tool-control__status[data-execution-state="streaming"]) {
  border-color: color-mix(in srgb, var(--accent) 45%, var(--color-border));
  background: color-mix(in srgb, var(--accent-soft) 38%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="success"]) {
  border-color: color-mix(in srgb, var(--success) 45%, var(--color-border));
  background: color-mix(in srgb, var(--success-soft) 44%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="warning"],
  .tn-unified-tool-control__status[data-execution-state="uncertain"]) {
  border-color: color-mix(in srgb, var(--warning) 50%, var(--color-border));
  background: color-mix(in srgb, var(--warning-soft) 48%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__status[data-execution-state="failed"]) {
  border-color: color-mix(in srgb, var(--danger) 45%, var(--color-border));
  background: color-mix(in srgb, var(--danger-soft) 42%, var(--bg-secondary));
}

:where(.tn-unified-tool-control__output) {
  border: 1px solid var(--exec-authority-workspace-border);
  border-radius: var(--radius-md);
  padding: 14px 16px 15px;
  background: var(--exec-authority-workspace-bg);
  display: grid;
  gap: var(--exec-cadence-11);
  min-height: 260px;
  box-shadow: none;
}

:where(.tn-unified-tool-control__output-block) {
  margin: 0;
  display: grid;
  gap: var(--space-1);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  border: 1px solid color-mix(in srgb, var(--color-border) 85%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 90%, transparent);
}

:where(.tn-unified-tool-control__output-block--primary) {
  background: color-mix(in srgb, var(--bg-elevated) 94%, transparent);
  border-color: color-mix(in srgb, var(--accent) 24%, var(--color-border));
}

:where(.tn-unified-tool-control__output-label) {
  margin: 0;
  font-size: var(--type-micro);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--text-muted);
}

:where([data-tool-input="true"]) {
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--accent) 8%, transparent);
}

:where([data-tool-output="true"]) {
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--success) 10%, transparent);
}


:where(.tn-unified-tool-control__supporting[data-ai-layer]) {
  margin: 0;
  font-size: var(--type-caption);
  line-height: var(--line-snug);
  white-space: pre-wrap;
  word-break: break-word;
}

:where(.tn-unified-tool-control__preview, .tn-unified-tool-control__result) {
  margin: 0;
  font-size: var(--type-body);
  line-height: var(--line-snug);
  white-space: pre-wrap;
  word-break: break-word;
}

:where(.tn-unified-tool-control__details > summary) {
  cursor: pointer;
  font-size: var(--type-caption);
  color: var(--text-muted);
}

:where(.tn-unified-tool-control__errors) {
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tool-auto-runtime__group) {
  margin: 0;
  padding: 0;
  border: 0;
  display: grid;
  gap: var(--runtime-density-gap);
}

:where(.tool-auto-runtime__group h3) {
  margin: 0;
  font-size: var(--type-micro);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--text-muted);
}

:where(.tool-auto-runtime__field) {
  display: grid;
  gap: var(--space-1);
}

:where(.tool-auto-runtime__field label) {
  font-size: var(--type-caption);
  color: var(--text-secondary, var(--text-muted));
}

:where(.tool-auto-runtime__field input[type="text"],
  .tool-auto-runtime__field input[type="number"],
  .tool-auto-runtime__field textarea) {
  width: 100%;
  min-height: var(--control-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--panel-bg);
  color: var(--text-primary);
  padding: var(--space-1) var(--space-2);
}

:where(.tool-auto-runtime__field textarea) {
  resize: vertical;
  min-height: 96px;
}

:where(.tool-auto-runtime__hint) {
  margin: 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
}

:where(.tool-auto-runtime__error) {
  border: 1px solid color-mix(in srgb, var(--danger) 50%, transparent);
  background: color-mix(in srgb, var(--danger-soft) 70%, var(--panel-bg));
  border-radius: var(--radius-md);
  padding: var(--space-1) var(--space-2);
  font-size: var(--type-caption);
}


:where(.tool-auto-runtime__resolution-warning) {
  margin: var(--space-1) 0 0;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-pill);
  border: 1px solid color-mix(in srgb, var(--warning, #f8cc86) 45%, transparent);
  background: color-mix(in srgb, var(--warning-soft, rgba(248, 204, 134, 0.2)) 70%, transparent);
  color: var(--text-primary);
  font-size: var(--type-micro);
  width: fit-content;
}


:where(.tool-container) {
  width: 100%;
}

:where(.tool-container--inline) {
  margin-top: var(--space-sm);
  border: 1px dashed color-mix(in srgb, var(--accent) 35%, var(--color-border));
  border-radius: var(--radius-panel);
  padding: var(--space-xs);
  background: color-mix(in srgb, var(--panel-bg) 92%, black 8%);
}

:where(.tool-container--panel) {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  padding: var(--space-sm);
  background: var(--panel-bg);
  box-shadow: var(--elevation-1);
}

:where(.tool-container--popover) {
  position: absolute;
  inset: auto var(--space-sm) var(--space-sm) auto;
  width: min(540px, calc(100vw - (var(--space-sm) * 2)));
  border: 1px solid var(--color-border);
  border-radius: var(--radius-panel);
  background: var(--panel-bg);
  box-shadow: var(--elevation-3);
  padding: var(--space-xs);
  z-index: 20;
}

:where(.tool-container--command) {
  border: 1px solid color-mix(in srgb, var(--accent) 45%, var(--color-border));
  border-radius: 12px;
  background: color-mix(in srgb, var(--panel-bg) 80%, var(--accent-soft));
  padding: var(--space-xs);
}

/* ==========================
TOOL SHELL PROFESSIONAL EXECUTION POLISH
========================== */
:where(.tool-identity-header) {
  grid-template-columns: minmax(0, 1fr) auto;
  gap: var(--runtime-card-gap);
  padding: var(--runtime-surface-padding);
  border-color: var(--runtime-identity-border);
  box-shadow: var(--runtime-identity-shadow);
}


:where(.tool-shell-page__workspace) {
  gap: var(--runtime-workspace-gap);
}

:where(.tool-shell-page__workspace-head) {
  align-items: flex-start;
  padding-inline: var(--space-1);
}

:where(.tool-shell-page__workspace-label) {
  font-size: var(--type-caption);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

:where(.tool-shell-page__workspace-hint) {
  margin: 0;
  max-width: 64ch;
  color: var(--text-muted);
}

/* =====================================================
   SHELL EXECUTION FRAMING (platform-owned anchors only)
   ===================================================== */
:where(.tool-shell-page__runtime) {
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  grid-template-areas:
    "context"
    "status"
    "followup"
    "content";
  gap: var(--tn-runtime-panel-gap, 4px);
  padding: var(--tn-runtime-panel-padding, var(--exec-cadence-14));
  border: var(--tn-runtime-panel-border, 1px solid color-mix(in srgb, var(--color-border) 78%, transparent));
  border-radius: var(--tn-exec-radius-lg, var(--radius-lg));
  background: var(--tn-runtime-panel-surface, var(--runtime-workspace-surface));
  box-shadow: var(--tn-runtime-panel-shadow, 0 8px 18px rgba(15, 23, 42, 0.1));
}

:where(.tool-shell-page__runtime > [data-tool-context="true"]) { grid-area: context; }
:where(.tool-shell-page__runtime > [data-tool-status="true"]) { grid-area: status; align-self: start; margin: 0; }
:where(.tool-shell-page__runtime > [data-tool-followup="true"]) { grid-area: followup; align-self: start; margin-top: 0; }
:where(.tool-shell-page__runtime > [data-tool-content-host="true"]) { grid-area: content; align-self: start; width: 100%; }

:where(.tool-shell-page__runtime > [data-tool-content-host="true"][data-execution-surface="unified"]) {
  margin-top: -1px;
  border-top: 1px solid color-mix(in srgb, var(--color-border) 36%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 48%, transparent);
  border-radius: 0 0 var(--tn-exec-radius-sm, 8px) var(--tn-exec-radius-sm, 8px);
  background: color-mix(in srgb, var(--bg-secondary) 88%, var(--bg-primary));
}
:where(.tool-shell-page__runtime > [data-tool-content-host="true"] > [data-tool-runtime="true"]) { width: 100%; }

:where(.tool-shell-page__runtime > [data-tool-context="true"],
  .tool-shell-page__runtime > [data-tool-status="true"],
  .tool-shell-page__runtime > [data-tool-followup="true"]) {
  border-radius: 0;
  border: 0;
  background: color-mix(in srgb, var(--bg-secondary) 60%, transparent);
}

:where(.tool-shell-page__runtime > [data-tool-context="true"]) {
  min-height: 22px;
  max-height: 28px;
  padding: 1px 8px;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"]) {
  min-height: 30px;
  max-height: 36px;
  padding: 2px 8px 3px;
  margin-top: 0;
  border-top: 1px solid color-mix(in srgb, var(--color-border) 46%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 42%, transparent);
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  background: color-mix(in srgb, var(--bg-secondary) 76%, transparent);
}

:where(.tool-shell-page__runtime > [data-tool-status="true"]) {
  min-height: 18px;
  max-height: 24px;
  padding: 0 8px;
  border-style: none;
  background: color-mix(in srgb, var(--bg-secondary) 58%, transparent);
}

:where(.tool-shell-page__docs) {
  margin-top: 0;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"]) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"] .tool-execution-panel__primary-actions,
  .tool-shell-page__runtime > [data-tool-followup="true"] .tool-execution-panel__secondary-actions) {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"] .tool-execution-panel__secondary-actions) {
  margin-left: auto;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"].is-compact) {
  flex-direction: column;
  align-items: stretch;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"] button) {
  min-height: 30px;
  padding: 2px 9px;
}

:where(.tool-shell-page__runtime > [data-tool-followup="true"] .tool-btn--primary) {
  font-weight: 700;
  min-width: 136px;
}

:where(.tool-identity-header__content h1) {
  font-size: clamp(1.85rem, 2.5vw, 2.5rem);
  line-height: var(--line-tight);
  letter-spacing: -0.02em;
  margin: 0;
}

:where(.tool-identity-header__intent) {
  margin: 0;
  max-width: 68ch;
  color: var(--text-muted);
  font-size: var(--type-body);
  line-height: var(--line-relaxed);
}

:where(.tn-unified-tool-control__meta) {
  margin: 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
  letter-spacing: 0.02em;
}


:where(.tn-unified-tool-control__capsules) {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: var(--space-1);
}

:where(.tn-unified-tool-control__capsule) {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: var(--radius-pill);
  border: 1px solid color-mix(in srgb, var(--accent) 24%, var(--color-border));
  background: var(--runtime-badge-surface);
  font-size: var(--type-micro);
  line-height: 1.2;
}

:where(.tn-unified-tool-control__capsule-label) {
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

:where(.tn-unified-tool-control__capsule-value) {
  color: var(--text-primary);
  font-weight: 600;
}

:where(.tool-shell-page__hero-meta .chip) {
  border-color: color-mix(in srgb, var(--accent) 18%, var(--color-border));
  background: color-mix(in srgb, var(--bg-secondary) 92%, var(--accent-soft));
}

:where(.tn-unified-tool-control__input, .tn-unified-tool-control__input-card) {
  padding: var(--runtime-surface-padding);
  border: 1px solid var(--runtime-input-border);
  box-shadow: var(--runtime-input-shadow);
  gap: var(--runtime-card-gap);
}

:where(.tn-unified-tool-control__actions) {
  align-items: center;
  justify-content: space-between;
  gap: var(--exec-cadence-11) var(--exec-cadence-14);
}

:where(.tn-unified-tool-control__actions-primary,
  .tn-unified-tool-control__actions-secondary) {
  display: flex;
  align-items: center;
  gap: var(--exec-cadence-11);
  flex-wrap: wrap;
}

:where(.tn-unified-tool-control__actions-secondary) {
  margin-left: auto;
}

:where(.tn-unified-tool-control__actions-advanced) {
  display: inline-grid;
}

:where(.tn-unified-tool-control__actions-advanced > summary) {
  list-style: none;
  cursor: pointer;
  font-size: var(--type-micro);
  color: var(--text-muted);
  border: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
  border-radius: var(--radius-pill);
  padding: 4px 10px;
  transition: border-color 160ms ease-out, color 140ms ease-out, background-color 180ms ease-out;
}

:where(.tn-unified-tool-control__actions-advanced[open] > summary) {
  color: var(--text-primary);
  border-color: color-mix(in srgb, var(--accent) 36%, var(--color-border));
  background: color-mix(in srgb, var(--accent-soft) 36%, transparent);
}

:where(.tn-unified-tool-control__actions-advanced-body) {
  margin-top: var(--exec-cadence-11);
  display: flex;
  flex-wrap: wrap;
  gap: var(--exec-cadence-11);
}

:where(.tn-unified-tool-control__run) {
  min-width: 188px;
  min-height: calc(var(--control-md) + 2px);
  padding-inline: 14px;
  font-size: var(--type-body);
  font-weight: 800;
}

:where(.tn-unified-tool-control__output) {
  padding: var(--runtime-surface-padding);
  border-color: var(--runtime-output-border);
  box-shadow: var(--runtime-output-shadow);
}

:where(.tn-unified-tool-control__output-block) {
  border-color: color-mix(in srgb, var(--color-border) 76%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 96%, transparent);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="supporting"]) {
  font-size: var(--type-body);
  line-height: var(--line-relaxed);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="metadata"]) .tn-unified-tool-control__metadata {
  display: grid;
  gap: var(--space-1);
  font-size: var(--type-caption);
}

:where(.tn-unified-tool-control__output-block[data-output-tier="diagnostics"]) {
  border-style: dashed;
  opacity: var(--exec-authority-status-opacity);
}

:where(.tool-article-prose) {
  max-width: min(100%, 78ch);
  padding: var(--exec-cadence-11) var(--exec-cadence-14);
  border-radius: var(--radius-lg);
  background: color-mix(in srgb, var(--runtime-doc-surface) 72%, transparent);
  opacity: var(--exec-authority-doc-opacity);
}

:where(.tool-article-prose section, .tool-article-prose article) {
  display: grid;
  gap: var(--exec-cadence-11);
}

:where(.tool-article-prose h2) {
  font-size: var(--type-h3);
  font-weight: 600;
  line-height: var(--line-tight);
  margin: var(--exec-cadence-14) 0 var(--exec-cadence-11);
}

:where(.tool-article-prose h3) {
  font-size: var(--type-body);
  font-weight: 600;
  margin: var(--exec-cadence-11) 0;
}

:where(.tool-article-prose p, .tool-article-prose li) {
  max-width: var(--runtime-doc-max-width);
  line-height: var(--line-relaxed);
  color: var(--text-secondary);
}




:where([data-tool-content-host="true"]) {
  width: 100%;
  max-width: 100%;
  display: block;
}
@media (max-width: 1080px) {
  :where(.tool-shell-page__runtime) {
    grid-template-columns: 1fr;
    grid-template-areas:
      "context"
      "status"
      "followup"
      "content";
  }

  :where(.tn-unified-tool-control__capsules) {
    justify-content: flex-start;
  }
}
@media (max-width: 900px) {
  :where(.tn-unified-tool-control__actions) {
    flex-direction: column;
    align-items: stretch;
  }

  :where(.tn-unified-tool-control__actions-secondary) {
    margin-left: 0;
  }

  :where(.tn-unified-tool-control__run) {
    width: 100%;
  }
}

:where(.tn-icon) {
  width: 16px;
  height: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 16px;
  line-height: 1;
}

:where(.tn-icon svg) {
  width: 16px;
  height: 16px;
  stroke-width: 1.9;
}

/* =====================================================
   GLOBAL EXECUTION DESIGN TEMPLATE (tool widget scope)
   ===================================================== */
:where(.tool-action-primary) {
  min-width: var(--exec-action-primary-min-width);
  min-height: var(--exec-action-primary-height);
  font-weight: var(--exec-action-primary-weight);
}

:where(.tool-action-group-transform,
  .tool-action-group-utility) {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--exec-action-group-gap);
  padding-left: var(--exec-action-group-indent);
}

:where(.tool-workspace-unified) {
  display: grid;
  grid-template-columns: var(--exec-workspace-columns);
  gap: 0;
  border: 1px solid color-mix(in srgb, var(--color-border) 78%, transparent);
  border-radius: var(--radius-md);
  background: var(--exec-workspace-surface);
  overflow: clip;
}

:where(.tool-workspace-unified > [data-workspace-panel="secondary"]) {
  border-left: var(--exec-workspace-divider);
}

:where(.tool-runtime-strip-compact) {
  min-height: var(--exec-runtime-strip-min-height);
  padding: var(--exec-runtime-strip-padding);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  gap: var(--exec-runtime-strip-gap);
}

:where(.tool-metrics-compact-grid) {
  display: grid;
  grid-template-columns: var(--exec-metrics-grid-columns);
  gap: var(--space-1);
}

:where(.tool-metrics-compact-grid > *) {
  margin: 0;
  padding: var(--exec-metrics-item-padding);
  border-radius: var(--radius-sm);
  border: 1px solid color-mix(in srgb, var(--color-border) 78%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 62%, transparent);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--exec-metrics-item-gap);
}

@media (max-width: 1100px) {
  :where(.tool-workspace-unified) {
    grid-template-columns: 1fr;
  }

  :where(.tool-workspace-unified > [data-workspace-panel="secondary"]) {
    border-left: 0;
    border-top: var(--exec-workspace-divider);
  }
}

:where(.tn-unified-tool-control__status, [data-tool-status="true"]) {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  transition: border-color 150ms ease, background-color 150ms ease, color 150ms ease, opacity 150ms ease;
}

:where(.tn-unified-tool-control__status, [data-tool-status="true"])::before {
  content: '';
  width: 12px;
  height: 12px;
  border-radius: var(--radius-pill);
  border: 2px solid transparent;
  opacity: 0;
  flex: 0 0 12px;
}

:where(.tn-unified-tool-control__status[data-execution-state="running"],
  .tn-unified-tool-control__status[data-execution-state="validating"],
  .tn-unified-tool-control__status[data-execution-state="streaming"],
  [data-tool-status="true"].is-running,
  [data-tool-status="true"].is-validating,
  [data-tool-status="true"].is-streaming) {
  isolation: isolate;
}

:where(.tn-unified-tool-control__status.is-loading-visible, [data-tool-status="true"].is-loading-visible)::before {
  border: 2px solid color-mix(in srgb, var(--accent) 30%, transparent);
  border-top-color: color-mix(in srgb, var(--accent) 84%, transparent);
  opacity: 1;
  animation: tn-runtime-spin 700ms linear infinite;
}

:where(.tn-unified-tool-control__output) {
  position: relative;
  transition: box-shadow 150ms ease, border-color 150ms ease, opacity 150ms ease;
}

:where(.tn-unified-tool-control__output.is-processing.is-processing-visible)::after,
:where(.tn-unified-tool-control__output[data-execution-state="running"])::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(100deg, transparent 12%, color-mix(in srgb, var(--accent-soft) 24%, transparent) 48%, transparent 84%);
  transform: translateX(-100%);
  animation: tn-runtime-shimmer 1.1s ease infinite;
}

:where(.tn-unified-tool-control__run.is-primed) {
  animation: tn-action-pulse 180ms ease-out;
}

:where(.tn-unified-tool-control__status[data-execution-state="success"]) {
  color: color-mix(in srgb, var(--success) 62%, var(--text-primary));
}

:where(.tn-unified-tool-control__status[data-execution-state="warning"],
  .tn-unified-tool-control__status[data-execution-state="uncertain"]) {
  color: color-mix(in srgb, var(--warning) 68%, var(--text-primary));
}

:where(.tn-unified-tool-control__status[data-execution-state="failed"]) {
  color: color-mix(in srgb, var(--danger) 76%, var(--text-primary));
}

:where(input:focus-visible, textarea:focus-visible, select:focus-visible, button:focus-visible, [role="button"]:focus-visible) {
  outline: 2px solid color-mix(in srgb, var(--accent) 78%, white 22%);
  outline-offset: 2px;
}

@keyframes tn-runtime-spin {
  to { transform: rotate(360deg); }
}

@keyframes tn-runtime-shimmer {
  to { transform: translateX(100%); }
}

@keyframes tn-action-pulse {
  0% { box-shadow: 0 0 0 0 color-mix(in srgb, var(--accent) 24%, transparent); }
  100% { box-shadow: 0 0 0 6px transparent; }
}

/* Premium execution polish phase */
:where(.tool-shell-page__runtime) {
  box-shadow: none;
  border-radius: 10px;
  gap: 4px;
  padding: 5px 8px 7px;
  border: 1px solid color-mix(in srgb, var(--color-border) 56%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 84%, var(--bg-primary));
}


:where(.tool-context-pill, .tn-unified-tool-control__capsule) {
  border-radius: 6px;
  padding: 2px 7px;
  font-size: var(--type-micro);
  background: color-mix(in srgb, var(--bg-secondary) 92%, transparent);
}

:where(.tn-unified-tool-control__run, .tool-btn, .tn-unified-tool-control__status, .tn-unified-tool-control__output, .runtime-doc-disclosure, .tool-auto-runtime__field input, .tool-auto-runtime__field textarea) {
  transition: background-color 140ms linear, border-color 160ms linear, box-shadow 180ms linear, color 140ms linear, opacity 160ms linear;
}

:where(.tn-unified-tool-control__run) {
  min-width: 190px;
  box-shadow: none;
  background: color-mix(in srgb, var(--accent) 92%, #0f172a 8%);
}

:where(.tn-unified-tool-control__run:hover:not(:disabled)) {
  box-shadow: none;
}

:where(.tool-btn:active:not(:disabled), .tn-unified-tool-control__run:active:not(:disabled)) {
  transform: none;
}

:where(.tn-unified-tool-control__actions-secondary .tool-btn) {
  border: 1px solid color-mix(in srgb, var(--color-border) 84%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 94%, transparent);
}

:where(.tn-unified-tool-control__actions .tool-btn,
  .tn-unified-tool-control__run,
  [data-tool-followup="true"] .tool-btn,
  [data-tool-followup="true"] button) {
  min-height: 32px;
}

:where(.tn-unified-tool-control__run:disabled,
  .tn-unified-tool-control__actions .tool-btn:disabled,
  [data-tool-followup="true"] .tool-btn:disabled,
  [data-tool-followup="true"] button:disabled) {
  opacity: 0.64;
  color: var(--text-muted);
  cursor: not-allowed;
  border-color: color-mix(in srgb, var(--color-border) 90%, transparent);
}

:where(.tool-btn.is-acknowledged) {
  border-color: color-mix(in srgb, var(--success) 40%, var(--color-border));
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--success) 25%, transparent);
}

:where(.tn-unified-tool-control__suggestion-badge) {
  font-size: var(--type-caption);
}

:where(.tn-unified-tool-control__status-note) {
  font-size: var(--type-micro);
  margin: 2px 0 0;
}

:where(.tool-article-prose) {
  font-size: var(--type-caption);
  opacity: var(--exec-authority-doc-opacity);
}

:where(.runtime-doc-disclosure summary) {
  cursor: pointer;
  font-size: var(--type-caption);
  padding: 4px 0;
}

:where(.tool-shell-page__docs) {
  margin-top: 2px;
  gap: 6px 10px;
  padding: 4px 10px 6px;
  border-color: color-mix(in srgb, var(--color-border) 34%, transparent);
  background: color-mix(in srgb, var(--bg-secondary) 18%, transparent);
}

:where(.tool-shell-page__docs .runtime-doc-disclosure) {
  border: 0;
  border-radius: 0;
  background: transparent;
  box-shadow: none;
}

:where(.tool-shell-page__docs .runtime-doc-disclosure__body) {
  padding-top: 7px;
}

:where(.tool-shell-page__docs .tool-md-section) {
  margin: 0;
}

:where(.tool-shell-page__docs .tool-md-section:nth-child(odd)) {
  padding-inline-end: 6px;
}

:where(.tool-shell-page__docs .tool-md-section:nth-child(even)) {
  padding-inline-start: 2px;
}

:where(.tool-shell-page__docs .tool-md-section[data-doc-priority="primary"]) {
  padding-bottom: 8px;
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 44%, transparent);
}

:where(.tool-shell-page__docs .tool-md-section[data-doc-priority="secondary"]) {
  opacity: 0.66;
}

:where([data-tool-content-host="true"]) {
  border-top: 1px solid color-mix(in srgb, var(--exec-authority-shell-border) 58%, transparent);
  padding-top: 4px;
}

:where([data-tool-content-host="true"] > [data-tool-runtime="true"] .tn-tool-body,
  [data-tool-content-host="true"] > [data-tool-runtime="true"] .tool-layout) {
  gap: var(--exec-cadence-14);
}

:where(.tn-editor-skeleton) {
  min-height: 180px;
  border: 1px solid color-mix(in srgb, var(--color-border) 75%, transparent);
  border-radius: 10px;
  background: linear-gradient(100deg, color-mix(in srgb, var(--bg-secondary) 96%, transparent) 10%, color-mix(in srgb, var(--accent-soft) 16%, transparent) 48%, color-mix(in srgb, var(--bg-secondary) 96%, transparent) 90%);
  background-size: 200% 100%;
  animation: tn-runtime-shimmer 1.2s ease-out infinite;
}

:where(.tn-toolbar-skeleton button, .tn-runtime-skeleton) {
  background: color-mix(in srgb, var(--bg-secondary) 94%, transparent);
}

:where(.tn-skeleton-chip) {
  display: inline-flex;
  width: 12px;
  height: 12px;
  border-radius: 4px;
  margin-right: 6px;
  background: color-mix(in srgb, var(--accent) 45%, transparent);
  animation: tn-runtime-pulse 1.1s ease-out infinite;
}

:where(.tn-runtime-toast-region) {
  position: absolute;
  right: var(--space-2);
  top: var(--space-2);
  display: grid;
  gap: 6px;
  z-index: var(--z-toast);
}

:where(.tn-runtime-toast) {
  border: 1px solid color-mix(in srgb, var(--color-border) 82%, transparent);
  border-radius: 8px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--bg-secondary) 94%, transparent);
  font-size: var(--type-caption);
  opacity: 0;
  transform: translateY(-2px);
}

:where(.tn-runtime-toast.is-visible) {
  opacity: 1;
  transform: translateY(0);
}

:where(.tn-runtime-toast--success) {
  border-color: color-mix(in srgb, var(--success) 44%, var(--color-border));
}

:where(.tn-runtime-toast--error) {
  border-color: color-mix(in srgb, var(--danger) 44%, var(--color-border));
}

:where(.tool-auto-runtime__error-title) {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: var(--type-caption);
  font-weight: 600;
}

:where(.tool-auto-runtime__error-guidance) {
  margin: 4px 0 0;
  color: var(--text-muted);
  font-size: var(--type-micro);
}

:where([data-tool-output="true"] ::-webkit-scrollbar) {
  width: 10px;
  height: 10px;
}

:where([data-tool-output="true"] ::-webkit-scrollbar-thumb) {
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: color-mix(in srgb, var(--color-border) 82%, transparent);
}

:where([data-tool-output="true"] ::selection) {
  background: color-mix(in srgb, var(--accent) 30%, transparent);
}

:where(.tool-auto-runtime__empty-state) {
  border: 1px dashed color-mix(in srgb, var(--color-border) 80%, transparent);
  border-radius: 10px;
  padding: 8px;
  display: grid;
  gap: 4px;
  margin-bottom: 8px;
}

:where(.tool-auto-runtime__empty-title) {
  margin: 0;
  font-size: var(--type-caption);
  font-weight: 600;
}

:where(.tool-auto-runtime__empty-copy) {
  margin: 0;
  font-size: var(--type-micro);
  color: var(--text-muted);
}

:where(.tool-auto-runtime__example-btn) {
  justify-self: start;
  min-height: 28px;
  font-size: var(--type-micro);
}

@keyframes tn-runtime-pulse {
  0%,100% { opacity: 0.55; }
  50% { opacity: 1; }
}
