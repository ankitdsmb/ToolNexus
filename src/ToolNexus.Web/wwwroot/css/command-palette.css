/* COMMAND PALETTE V2 ELITE */
.command-palette {
  position: fixed;
  inset: 0;
  z-index: var(--z-modal);
  display: grid;
  place-items: start center;
  padding: clamp(1rem, 6vh, 5rem) 1rem;
}

.command-palette__backdrop {
  position: absolute;
  inset: 0;
  border: 0;
  background:
    radial-gradient(120% 130% at 50% -8%, rgba(67, 97, 238, 0.2) 0%, rgba(67, 97, 238, 0.08) 28%, rgba(2, 6, 23, 0.9) 72%, rgba(2, 6, 23, 0.95) 100%),
    linear-gradient(180deg, rgba(3, 10, 30, 0.8), rgba(2, 6, 23, 0.92));
  backdrop-filter: blur(14px) saturate(120%);
}

.command-palette__dialog {
  position: relative;
  width: min(720px, 100%);
  border-radius: 22px;
  padding: 1.1rem;
  color: #e8eefc;
  border: 1px solid rgba(149, 169, 255, 0.2);
  background:
    linear-gradient(150deg, rgba(13, 20, 47, 0.95), rgba(8, 13, 35, 0.95) 55%, rgba(10, 18, 43, 0.94) 100%);
  backdrop-filter: blur(32px) saturate(145%);
  box-shadow:
    0 40px 100px rgba(1, 5, 18, 0.72),
    0 20px 56px rgba(8, 16, 41, 0.55),
    inset 0 1px 0 rgba(236, 242, 255, 0.16),
    inset 0 0 0 1px rgba(123, 146, 248, 0.14);
  isolation: isolate;
  transform: translateZ(0);
}

.command-palette__dialog::before,
.command-palette__dialog::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
}

.command-palette__dialog::before {
  background: linear-gradient(120deg, rgba(182, 197, 255, 0.2), transparent 34%, transparent 66%, rgba(99, 132, 255, 0.2));
  opacity: 0.28;
}

.command-palette__dialog::after {
  inset: -2px;
  background: conic-gradient(
    from 0deg,
    rgba(92, 122, 255, 0.3),
    rgba(92, 122, 255, 0),
    rgba(137, 105, 255, 0.24),
    rgba(92, 122, 255, 0)
  );
  filter: blur(14px);
  opacity: 0.24;
  transform-origin: center;
  animation: paletteBorderOrbit 6s linear infinite;
  z-index: -1;
}

.command-palette__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.9rem;
  margin-bottom: 0.9rem;
  padding-inline: 0.125rem;
}

.command-palette__title {
  margin: 0;
  font-size: 0.74rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(221, 232, 255, 0.68);
}

.command-palette__close {
  border: 1px solid rgba(138, 157, 218, 0.28);
  border-radius: 10px;
  min-width: 2.1rem;
  min-height: 2.1rem;
  background: linear-gradient(180deg, rgba(29, 41, 77, 0.8), rgba(18, 27, 56, 0.84));
  color: rgba(226, 235, 255, 0.84);
  cursor: pointer;
  transition: border-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1), transform 0.2s cubic-bezier(0.4, 0.2, 0.2, 1);
}

.command-palette__close:hover,
.command-palette__close:focus-visible {
  border-color: rgba(165, 183, 247, 0.5);
  background: linear-gradient(180deg, rgba(35, 49, 90, 0.88), rgba(24, 35, 71, 0.9));
}

.command-palette__input {
  width: 100%;
  min-height: 2.95rem;
  border-radius: 15px;
  border: 1px solid rgba(123, 145, 218, 0.3);
  background: linear-gradient(180deg, rgba(13, 22, 49, 0.82), rgba(9, 15, 36, 0.9));
  color: #f3f7ff;
  padding: 0.875rem 1rem;
  font-size: 1rem;
  transition:
    border-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    box-shadow 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    transform 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    background-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1);
}

.command-palette__input::placeholder {
  color: rgba(182, 198, 235, 0.52);
}

.command-palette__input:focus,
.command-palette__input:focus-visible {
  outline: none;
  border-color: rgba(123, 146, 255, 0.82);
  background: linear-gradient(180deg, rgba(14, 24, 56, 0.88), rgba(10, 17, 40, 0.96));
  box-shadow:
    0 10px 22px rgba(3, 10, 30, 0.38),
    0 0 0 3px rgba(99, 122, 247, 0.24);
  transform: translateY(-1px);
}

.command-palette__list {
  list-style: none;
  margin: 0.95rem 0 0;
  padding: 0.25rem 0.2rem 0.35rem;
  max-height: min(52vh, 460px);
  overflow: auto;
  display: grid;
  gap: 0.45rem;
  scrollbar-width: thin;
  scrollbar-color: rgba(98, 124, 224, 0.72) rgba(22, 31, 63, 0.45);
}

.command-palette__item {
  position: relative;
  border-radius: 16px;
}

.command-palette__action {
  width: 100%;
  display: grid;
  gap: 0.28rem;
  text-align: left;
  border: 1px solid transparent;
  border-radius: 16px;
  background: transparent;
  color: #e8eefc;
  padding: 0.95rem 1rem;
  cursor: pointer;
  transition:
    transform 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    border-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    box-shadow 0.2s cubic-bezier(0.4, 0.2, 0.2, 1),
    background-color 0.2s cubic-bezier(0.4, 0.2, 0.2, 1);
}

.command-palette__item:hover .command-palette__action,
.command-palette__action:hover {
  border-color: rgba(121, 143, 225, 0.25);
  background: linear-gradient(135deg, rgba(56, 78, 153, 0.3), rgba(46, 69, 138, 0.22) 45%, rgba(28, 43, 90, 0.26));
  box-shadow: 0 14px 28px rgba(4, 10, 29, 0.34);
  transform: translateY(-2px);
}

.command-palette__item.is-active .command-palette__action {
  border-color: rgba(132, 156, 248, 0.44);
  background: linear-gradient(135deg, rgba(82, 110, 215, 0.44), rgba(73, 93, 188, 0.38) 48%, rgba(51, 69, 145, 0.44));
  box-shadow:
    0 16px 30px rgba(7, 14, 36, 0.44),
    inset 0 0 0 1px rgba(201, 214, 255, 0.24);
  transform: translateY(-2px);
}

.command-palette__item-title {
  font-weight: 650;
  font-size: 0.985rem;
  line-height: 1.3;
}

.command-palette__item-desc,
.command-palette__empty {
  color: rgba(194, 205, 231, 0.78);
  font-size: 0.88rem;
  line-height: 1.35;
}

.command-palette__empty {
  padding: 0.8rem 1rem;
}

.command-palette__shortcut {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.3rem;
  background: linear-gradient(180deg, rgba(31, 45, 84, 0.74), rgba(20, 31, 64, 0.78));
  border: 1px solid rgba(136, 157, 227, 0.28);
  border-radius: 999px;
  padding: 0.28rem 0.58rem;
  font-size: 0.72rem;
  line-height: 1;
  color: rgba(214, 224, 250, 0.8);
  backdrop-filter: blur(4px);
}

.command-palette__list::-webkit-scrollbar {
  width: 8px;
}

.command-palette__list::-webkit-scrollbar-track {
  background: rgba(20, 30, 61, 0.35);
  border-radius: 999px;
}

.command-palette__list::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(113, 137, 243, 0.88), rgba(84, 108, 215, 0.88));
  border-radius: 999px;
  border: 1px solid rgba(25, 35, 68, 0.65);
}

.command-palette.is-open .command-palette__dialog,
#commandPalette[data-state='open'] .tn-modal__dialog {
  animation: paletteEliteIn 0.22s cubic-bezier(0.4, 0.2, 0.2, 1);
}

@keyframes paletteEliteIn {
  from {
    opacity: 0;
    transform: translate3d(0, 12px, 0) scale(0.96);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes paletteBorderOrbit {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

:root[data-theme='dark'] .command-palette__backdrop {
  background:
    radial-gradient(120% 130% at 50% -8%, rgba(79, 95, 198, 0.24) 0%, rgba(79, 95, 198, 0.1) 27%, rgba(2, 6, 23, 0.92) 72%, rgba(2, 6, 23, 0.96) 100%),
    linear-gradient(180deg, rgba(2, 8, 25, 0.84), rgba(2, 6, 23, 0.95));
}

:root[data-theme='dark'] .command-palette__title {
  color: rgba(226, 236, 255, 0.7);
}

:root[data-theme='dark'] .command-palette__shortcut {
  background: linear-gradient(180deg, rgba(29, 43, 80, 0.8), rgba(18, 29, 63, 0.84));
}

body.is-modal-open {
  overflow: hidden;
}

@media (max-width: 700px) {
  .command-palette {
    padding: 0.8rem;
  }

  .command-palette__dialog {
    width: 100%;
    padding: 0.95rem;
    border-radius: 18px;
  }

  .command-palette__action {
    padding: 0.82rem 0.88rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .command-palette.is-open .command-palette__dialog,
  #commandPalette[data-state='open'] .tn-modal__dialog,
  .command-palette__dialog::after,
  .command-palette__action,
  .command-palette__close,
  .command-palette__input {
    animation: none;
    transition: none;
  }
}
