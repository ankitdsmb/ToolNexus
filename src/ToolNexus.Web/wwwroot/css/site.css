@import url('./design-tokens.css');
@import url('./theme.css');
@import url('./command-palette.css');

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body {
  font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
}

a { color: var(--accent-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

.u-sr-only { position: absolute; width: 1px; height: 1px; margin: -1px; overflow: hidden; clip-path: inset(50%); }

.app-shell { min-height: 100vh; display: flex; flex-direction: column; }
.container { width: var(--container); margin: 0 auto; padding: 1.8rem 0 2.6rem; flex: 1; }

.topbar {
  position: sticky; top: 0; z-index: var(--z-header);
  border-bottom: 1px solid var(--border-default);
  background: color-mix(in srgb, var(--bg-surface) 92%, transparent);
  backdrop-filter: blur(10px);
  box-shadow: 0 1px 0 rgba(255, 255, 255, .18), var(--shadow-sm);
}
.topbar__inner { width: min(1280px, calc(100% - 2rem)); margin: 0 auto; min-height: 4.35rem; display: grid; grid-template-columns: auto minmax(250px, 380px) 1fr auto; gap: .9rem; align-items: center; }
.brand { display: inline-flex; align-items: center; gap: .5rem; font-weight: 700; color: var(--text-primary); }
.brand__dot { width: .75rem; height: .75rem; border-radius: 999px; background: linear-gradient(135deg, #1ec6ff, #4d68ff); box-shadow: 0 0 0 5px var(--accent-soft); }
.topbar__search-shell {
  width: 100%; min-height: 2.7rem; display: inline-flex; align-items: center; justify-content: space-between; gap: .7rem;
  border: 1px solid var(--border-default); border-radius: 999px; padding: .35rem .55rem .35rem .9rem;
  background: var(--bg-elevated); color: var(--text-secondary); cursor: pointer;
}
.topbar__search-placeholder { text-align: left; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.topbar__search-shortcut { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; border: 1px solid var(--border-default); border-radius: 10px; padding: .16rem .55rem; color: var(--text-secondary); }
.topbar__nav { display: flex; justify-content: center; flex-wrap: wrap; gap: .9rem; }
.topbar__link { color: var(--text-secondary); font-weight: 500; }
.topbar__link.active-nav, .topbar__link:hover { color: var(--text-primary); text-decoration: none; }

.theme-toggle {
  width: 2.6rem; height: 2.6rem; display: inline-grid; place-items: center;
  border-radius: 999px; border: 1px solid var(--border-default); background: var(--bg-elevated);
  color: var(--text-primary); cursor: pointer; transition: transform .2s ease, background-color .2s ease;
}
.theme-toggle:hover { transform: translateY(-1px); }
.theme-toggle__icon svg { width: 1.1rem; height: 1.1rem; fill: currentColor; transition: transform .25s ease; }
.theme-toggle[data-theme="dark"] .theme-toggle__icon svg { transform: rotate(24deg); }

.hero {
  margin-bottom: 2rem; border: 1px solid var(--border-default); border-radius: 24px;
  background: linear-gradient(135deg, color-mix(in srgb, var(--bg-elevated) 85%, #d9ecff 15%), var(--bg-surface));
  box-shadow: var(--shadow-md);
}
.hero__container { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; padding: clamp(1.2rem, 4vw, 3rem); }
.hero__eyebrow { letter-spacing: .1em; text-transform: uppercase; color: var(--text-secondary); }
.hero__title { font-size: clamp(2rem, 5vw, 4rem); line-height: 1.08; margin: .2rem 0 .8rem; }
.hero__subtitle { color: var(--text-secondary); max-width: 55ch; }
.hero__typewriter, .hero__badges { display: flex; flex-wrap: wrap; gap: .5rem; margin: .8rem 0; }
.hero-badge, .hero__typewriter { border: 1px solid var(--border-default); border-radius: 999px; padding: .4rem .75rem; background: var(--bg-surface); }
.hero__actions { display: flex; gap: .8rem; flex-wrap: wrap; }
.hero-btn { border-radius: 14px; padding: .7rem 1.1rem; font-weight: 700; border: 1px solid var(--border-default); }
.hero-btn--primary { background: var(--accent-primary); color: #fff; border-color: transparent; box-shadow: var(--shadow-sm); }
.hero-btn--secondary { background: var(--bg-surface); color: var(--text-primary); }
.hero-preview { border: 1px solid var(--border-default); border-radius: 16px; background: color-mix(in srgb, var(--bg-elevated) 88%, transparent); overflow: hidden; box-shadow: var(--shadow-sm); }
.hero-preview__head { border-bottom: 1px solid var(--border-default); padding: .75rem 1rem; color: var(--text-secondary); display: flex; align-items: center; gap: .8rem; }
.hero-preview__traffic-lights span { width: .75rem; height: .75rem; border-radius: 50%; display: inline-block; margin-right: .3rem; }
.hero-preview__traffic-lights span:nth-child(1) { background: #ff6c6c; }
.hero-preview__traffic-lights span:nth-child(2) { background: #ffd66c; }
.hero-preview__traffic-lights span:nth-child(3) { background: #6bdf92; }
.hero-preview__code { margin: 0; padding: 1rem; min-height: 260px; }

.section-title { margin: 0; }
.section-subtitle, .u-muted { color: var(--text-secondary); }
.search { width: min(760px, 100%); min-height: 2.85rem; border: 1px solid var(--border-strong); border-radius: 999px; background: var(--bg-surface); color: var(--text-primary); padding: .65rem .95rem; box-shadow: var(--shadow-sm); }
.search:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
button:focus-visible,
a:focus-visible { outline: none; box-shadow: var(--focus-ring); }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; }
.card { border: 1px solid var(--border-default); border-radius: var(--radius-md); background: var(--bg-surface); padding: 1rem; display: grid; grid-template-columns: 1fr auto; gap: .8rem; box-shadow: var(--shadow-sm); }
.card h3 { margin: 0 0 .35rem; }
.card p { margin: 0; color: var(--text-secondary); }
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); text-decoration: none; }

.tool-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1rem; }
.tool-card {
  display: grid; gap: .75rem; border: 1px solid var(--border-default); border-radius: var(--radius-md);
  padding: 1rem; background: var(--bg-surface); box-shadow: var(--shadow-sm);
  color: var(--text-primary); text-decoration: none; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.tool-card:hover { transform: translateY(-3px); border-color: var(--border-strong); box-shadow: var(--shadow-md); text-decoration: none; }
.tool-card__header { display: grid; grid-template-columns: auto 1fr auto; gap: .7rem; align-items: start; }
.tool-card__icon { width: 2.4rem; height: 2.4rem; border-radius: 12px; display: grid; place-items: center; background: var(--accent-soft); color: var(--accent-primary); font-weight: 700; }
.tool-card__title { margin: 0; }
.tool-card__description { margin: .3rem 0 0; color: var(--text-secondary); }
.tool-card__arrow { color: var(--text-secondary); }
.tool-card__badges, .tool-card__tags { display: flex; flex-wrap: wrap; gap: .4rem; }
.tool-card__badge, .tool-card__tag { border: 1px solid var(--border-default); border-radius: 999px; padding: .16rem .55rem; font-size: .79rem; background: var(--bg-elevated); }
.tool-card__meta { border-top: 1px solid var(--border-default); padding-top: .65rem; display: flex; justify-content: space-between; gap: .5rem; color: var(--text-secondary); font-size: .88rem; }
.tool-card__meta strong { color: var(--text-primary); }

.tool-page { display: grid; gap: 1rem; }
.tool-page__heading { display: flex; justify-content: space-between; align-items: end; gap: 1rem; }
.tool-page__heading h1 { margin: 0; }
.tool-page__heading p { margin: .3rem 0 0; color: var(--text-secondary); }
.tool-page__action-selector { display: grid; gap: .35rem; min-width: 220px; }
.tool-page__action-selector select,
textarea,
input { width: 100%; border: 1px solid var(--border-default); border-radius: var(--radius-sm); background: var(--bg-surface); color: var(--text-primary); padding: .6rem .75rem; }
.tool-layout { display: grid; grid-template-columns: minmax(0,1fr) auto minmax(0,1fr); gap: 1rem; align-items: start; }
.tool-panel { border: 1px solid var(--border-default); border-radius: var(--radius-md); background: var(--bg-surface); padding: 1rem; box-shadow: var(--shadow-sm); }
.tool-panel--output { background: color-mix(in srgb, var(--bg-surface) 92%, var(--bg-elevated)); }
.tool-layout__actions { display: grid; gap: .55rem; align-content: start; }
.tool-btn { border: 1px solid var(--border-default); border-radius: 10px; min-height: 2.55rem; background: var(--bg-elevated); color: var(--text-primary); cursor: pointer; padding: .55rem .8rem; }
.tool-btn--primary { background: var(--accent-primary); color: #fff; border-color: transparent; box-shadow: var(--shadow-sm); }
.shortcut-hint { margin: .4rem 0 0; color: var(--text-secondary); font-size: .87rem; }
.panel-header { display: flex; justify-content: space-between; align-items: baseline; gap: .8rem; }
.sample-panel { border: 1px solid var(--border-default); border-radius: 10px; padding: .7rem; margin-bottom: .8rem; background: var(--bg-elevated); }
.sample-panel h3 { margin: 0 0 .5rem; font-size: .95rem; }
.sample-panel pre { margin: 0; max-height: 180px; overflow: auto; white-space: pre-wrap; color: var(--text-secondary); }
.editor-surface { min-height: 320px; border: 1px solid var(--border-default); border-radius: 10px; background: var(--bg-elevated); }
.tool-empty-state { border: 1px dashed var(--border-strong); border-radius: 10px; padding: 1rem; background: var(--bg-elevated); color: var(--text-secondary); }
.result-indicator { color: var(--text-secondary); }
.tool-error { border: 1px solid var(--danger-text); background: var(--danger-bg); color: var(--danger-text); border-radius: 10px; padding: .7rem; margin-bottom: .8rem; }

.static-page { width: min(75ch, 100%); margin: 0 auto; display: grid; gap: 1.25rem; }
.static-page__header h1 { margin: 0 0 .5rem; font-size: clamp(2rem, 5vw, 3.2rem); }
.static-page__header p { margin: 0; color: var(--text-secondary); }
.static-page__section { border-top: 1px solid var(--border-default); padding-top: 1rem; }
.static-page h2 { margin: 0 0 .6rem; }
.static-page p, .static-page li { font-size: 1.02rem; line-height: 1.75; }
.static-page ul { margin: 0; padding-left: 1.25rem; display: grid; gap: .5rem; }

.contact-form { border: 1px solid var(--border-default); border-radius: var(--radius-md); padding: 1rem; background: var(--bg-surface); box-shadow: var(--shadow-sm); display: grid; gap: .8rem; }
.contact-form__grid { display: grid; grid-template-columns: 1fr 1fr; gap: .75rem; }
.contact-form label { font-weight: 600; }
.contact-form textarea { min-height: 220px; }
.contact-form .primary { justify-self: start; background: var(--accent-primary); color: #fff; border: none; border-radius: 10px; padding: .7rem 1.1rem; font-weight: 700; }
.form-status.success { color: var(--success-text); }
.form-status.error { color: var(--danger-text); }

.footer {
  margin-top: 2rem; background: color-mix(in srgb, var(--bg-elevated) 96%, transparent);
  border-top: 1px solid var(--border-default);
}
.footer__inner { width: var(--container); margin: 0 auto; padding: 1.4rem 0; display: grid; gap: 1rem; }
.footer__meta { display: grid; gap: .45rem; }
.footer__brand { display: inline-flex; align-items: center; gap: .5rem; font-weight: 700; color: var(--text-primary); }
.footer__tagline, .footer__version { margin: 0; color: var(--text-secondary); }
.footer__security { display: inline-flex; align-items: center; gap: .4rem; color: var(--text-secondary); font-size: .86rem; }
.footer__shortcuts-label { margin: .3rem 0 0; color: var(--text-secondary); font-size: .86rem; }
.footer__shortcut-list { display: flex; flex-wrap: wrap; gap: .45rem; }
.footer__shortcut-pill { display: inline-flex; align-items: center; gap: .4rem; border: 1px solid var(--border-default); border-radius: 999px; padding: .2rem .55rem; background: var(--bg-surface); font-size: .76rem; color: var(--text-secondary); }
.footer__shortcut-pill kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.footer__links { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 1rem; }
.footer__column { display: grid; gap: .35rem; }
.footer__title { margin: 0; font-weight: 700; }
.footer__column a { color: var(--text-secondary); }
.footer__bottom { border-top: 1px solid var(--border-default); padding-top: .9rem; }
.footer__perf { display: inline-block; border: 1px solid var(--border-default); border-radius: 999px; padding: .18rem .55rem; font-size: .78rem; margin-top: .4rem; }

@media (max-width: 1040px) {
  .topbar__inner { grid-template-columns: auto 1fr auto; grid-template-areas: "brand search theme" "nav nav nav"; }
  .brand { grid-area: brand; }
  .topbar__search-wrap { grid-area: search; }
  .theme-toggle { grid-area: theme; justify-self: end; }
  .topbar__nav { grid-area: nav; justify-content: flex-start; padding-bottom: .6rem; }
  .hero__container { grid-template-columns: 1fr; }
  .tool-layout { grid-template-columns: 1fr; }
  .tool-layout__actions { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
  .footer__links { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 720px) {
  .container { width: min(100% - 1rem, 1200px); }
  .contact-form__grid { grid-template-columns: 1fr; }
  .footer__links { grid-template-columns: 1fr; }
}
