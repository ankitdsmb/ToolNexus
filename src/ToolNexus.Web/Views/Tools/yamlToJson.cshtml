@model ToolPageViewModel
@{
    ViewData["Title"] = Model.Seo.Title;
    ViewData["Description"] = Model.Seo.Description;
    ViewData["CanonicalUrl"] = Model.Seo.CanonicalUrl;
    ViewData["JsonLd"] = Model.Seo.JsonLd;
    ViewData["Keywords"] = Model.Seo.Keywords;
}

@section Head {
    <link rel="stylesheet" href="~/css/pages/yaml-to-json.css" asp-append-version="true" />
}

<div class="tool-runtime-widget yaml-to-json-runtime tool-yaml-json">
    <header class="tool-local-header tool-yaml-json__header">
        <div>
            <h2>@Model.Tool.Title</h2>
            <p class="tool-yaml-json__description">Enterprise-safe YAML parsing with deterministic JSON conversion entirely in your browser.</p>
        </div>
        <span class="tool-yaml-json__badge">Client-side processing</span>
    </header>

    <section class="tool-local-actions tool-yaml-json__controls" aria-label="YAML to JSON options">
        <button id="convertBtn" class="tool-btn tool-btn--primary" type="button">Convert</button>
        <button id="clearBtn" class="tool-btn tool-btn--outline" type="button">Clear input</button>
        <button id="copyBtn" class="tool-btn tool-btn--outline" type="button" disabled>Copy JSON</button>
        <button id="downloadBtn" class="tool-btn tool-btn--ghost" type="button" disabled>Download .json</button>

        <label class="tool-option"><input id="autoConvertToggle" type="checkbox" /> Auto convert</label>
        <label class="tool-option"><input id="prettyToggle" type="checkbox" checked /> Pretty JSON</label>
        <label class="tool-option"><input id="sortKeysToggle" type="checkbox" /> Sort keys</label>
        <label class="tool-option"><input id="autoTypesToggle" type="checkbox" checked /> Auto type detection</label>
        <label class="tool-option"><input id="strictStringsToggle" type="checkbox" /> Preserve strings strictly</label>
        <label class="tool-option"><input id="parseDatesToggle" type="checkbox" /> Parse date-like strings</label>

        <label class="tool-option tool-option--select" for="indentSelect">
            Indentation
            <select id="indentSelect">
                <option value="2" selected>2 spaces</option>
                <option value="4">4 spaces</option>
            </select>
        </label>
    </section>

    <section class="tool-local-metrics"><p class="tool-yaml-json__status" id="statusText">Ready</p></section>

    <section class="tool-editors tool-yaml-json__workspace" aria-label="YAML to JSON workspace">
        <section class="tool-editor-panel tool-yaml-json__panel">
            <div class="tool-yaml-json__panel-header">
                <h2>YAML input</h2>
                <span>Ctrl/Cmd + Enter to convert · Ctrl/Cmd + L to clear</span>
            </div>
            <textarea id="yamlInput" class="tool-yaml-json__editor" spellcheck="false" placeholder="service: toolnexus">@Model.Tool.ExampleInput</textarea>
        </section>

        <section class="tool-editor-panel tool-yaml-json__panel">
            <div class="tool-yaml-json__panel-header">
                <h2>JSON output</h2>
                <span id="metricsText">0 line(s) · 0.0 KB · 0 object(s) · 0 array(s) · 0 primitive(s)</span>
            </div>
            <textarea id="jsonOutput" class="tool-yaml-json__editor tool-yaml-json__editor--output" readonly spellcheck="false" placeholder="JSON output will appear here"></textarea>
        </section>
    </section>

    <section id="errorBox" class="tool-yaml-json__error" role="alert" hidden>
        <h3 id="errorTitle">YAML parsing failed</h3>
        <p id="errorDetail"></p>
    </section>
    </section>


</div>

@section Scripts {
    <script type="module" src="~/js/tools/yaml-to-json/index.js" asp-append-version="true"></script>
}
