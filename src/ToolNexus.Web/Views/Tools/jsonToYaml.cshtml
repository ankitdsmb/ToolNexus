@model ToolPageViewModel
@{
    ViewData["Title"] = Model.Seo.Title;
    ViewData["Description"] = Model.Seo.Description;
    ViewData["CanonicalUrl"] = Model.Seo.CanonicalUrl;
    ViewData["JsonLd"] = Model.Seo.JsonLd;
    ViewData["Keywords"] = Model.Seo.Keywords;
}

@section Head {
    <link rel="stylesheet" href="~/css/pages/json-to-yaml.css" asp-append-version="true" />
}

<article class="tool-json-yaml" data-slug="@Model.Tool.Slug">
    <header class="tool-json-yaml__header">
        <div>
            <h1>@Model.Tool.Title</h1>
            <p class="tool-json-yaml__description">Accurate JSON to YAML conversion with deterministic, safe serialization.</p>
        </div>
        <span class="tool-json-yaml__badge">Client-side processing</span>
    </header>

    <section class="tool-json-yaml__controls" aria-label="JSON to YAML options">
        <button id="convertBtn" class="tool-btn tool-btn--primary" type="button">Convert</button>
        <button id="clearBtn" class="tool-btn tool-btn--outline" type="button">Clear input</button>
        <button id="copyBtn" class="tool-btn tool-btn--outline" type="button" disabled>Copy YAML</button>
        <button id="downloadBtn" class="tool-btn tool-btn--ghost" type="button" disabled>Download .yaml</button>

        <label class="tool-option"><input id="autoConvertToggle" type="checkbox" /> Auto convert</label>
        <label class="tool-option"><input id="prettyToggle" type="checkbox" checked /> Pretty mode</label>
        <label class="tool-option"><input id="compactToggle" type="checkbox" /> Compact mode</label>
        <label class="tool-option"><input id="quoteAllToggle" type="checkbox" /> Quote all strings</label>
        <label class="tool-option"><input id="sortKeysToggle" type="checkbox" /> Sort keys</label>
        <label class="tool-option"><input id="multilineToggle" type="checkbox" checked /> Multiline block style</label>

        <label class="tool-option tool-option--select" for="indentSelect">
            Indentation
            <select id="indentSelect">
                <option value="2" selected>2 spaces</option>
                <option value="4">4 spaces</option>
            </select>
        </label>

        <label class="tool-option tool-option--select" for="multilineStyle">
            Multiline mode
            <select id="multilineStyle">
                <option value="literal" selected>Literal (|)</option>
                <option value="folded">Folded (&gt;)</option>
            </select>
        </label>
    </section>

    <p class="tool-json-yaml__status" id="statusText">Ready</p>

    <section class="tool-json-yaml__workspace" aria-label="JSON to YAML workspace">
        <section class="tool-json-yaml__panel">
            <div class="tool-json-yaml__panel-header">
                <h2>JSON input</h2>
                <span>Ctrl/Cmd + Enter to convert · Ctrl/Cmd + L to clear</span>
            </div>
            <textarea id="jsonInput" class="tool-json-yaml__editor" spellcheck="false" placeholder='{"service":"toolnexus","enabled":true}'>@Model.Tool.ExampleInput</textarea>
        </section>

        <section class="tool-json-yaml__panel">
            <div class="tool-json-yaml__panel-header">
                <h2>YAML output</h2>
                <span id="sizeText">0 object(s) · 0 array(s) · 0 primitive(s)</span>
            </div>
            <textarea id="yamlOutput" class="tool-json-yaml__editor tool-json-yaml__editor--output" readonly spellcheck="false" placeholder="YAML output will appear here"></textarea>
        </section>
    </section>

    <section id="errorBox" class="tool-json-yaml__error" role="alert" hidden>
        <h3 id="errorTitle">Conversion failed</h3>
        <p id="errorDetail"></p>
    </section>
</article>

@section Scripts {
    <script type="module" src="~/js/tools/json-to-yaml/index.js" asp-append-version="true"></script>
}
