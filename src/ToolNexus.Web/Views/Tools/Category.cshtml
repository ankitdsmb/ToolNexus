@model ToolCategoryViewModel
@{
    var canonicalUrl = $"{Context.Request.Scheme}://{Context.Request.Host}/tools/{Uri.EscapeDataString(Model.Category)}";
    ViewData["Title"] = $"{Model.Category} Developer Tools | ToolNexus";
    ViewData["Description"] = $"Explore {Model.Category} developer tools on ToolNexus.";
    ViewData["CanonicalUrl"] = canonicalUrl;
    ViewData["Keywords"] = $"{Model.Category} tools, online {Model.Category} utilities";
    ViewData["JsonLd"] = System.Text.Json.JsonSerializer.Serialize(new
    {
        @context = "https://schema.org",
        @type = "CollectionPage",
        name = $"{Model.Category} tools",
        url = canonicalUrl,
        description = $"Explore {Model.Category} developer tools on ToolNexus."
    });

    var index = 0;
}

<article class="tool-grid-shell page-shell" aria-label="Tool category results">
  <header class="u-stack">
    <h1>@Model.Category tools</h1>
    <p class="u-muted">Minimal workflows for @Model.Category-related tasks.</p>
    <p class="u-muted">Choose a tool based on your next action: normalize, validate, compare, or convert.</p>
  </header>

  <section class="tool-grid" id="toolGrid" aria-live="polite">
    @foreach (var tool in Model.Tools)
    {
      @await Html.PartialAsync("_ToolCard", tool, new ViewDataDictionary(ViewData) { ["CardIndex"] = index++ })
    }
  </section>

  <section class="static-page__section" aria-labelledby="categoryGuideHeading">
    <h2 id="categoryGuideHeading">How to choose a @Model.Category tool</h2>
    <p>Pick the lightest tool that solves the immediate step in your workflow. If your input is unstructured, begin with formatting. If it is already structured, validate first and then transform.</p>
  </section>

  <section class="static-page__section" aria-labelledby="categoryRelatedHeading">
    <h2 id="categoryRelatedHeading">Related categories and workflows</h2>
    <ul class="static-page__link-list">
      <li><a href="/tools">Browse all categories</a></li>
      <li><a href="/tools/json-formatter">JSON Formatter for API payload workflows</a></li>
      <li><a href="/tools/base64-encode">Base64 Encode for transport-safe values</a></li>
    </ul>
  </section>
</article>

@section Scripts {
  <script type="module" src="~/js/tools-grid.js" asp-append-version="true"></script>
}
