@model HomeViewModel
@{
    var baseUrl = $"{Context.Request.Scheme}://{Context.Request.Host}";
    ViewData["Title"] = "ToolNexus | Free Online Developer Tools";
    ViewData["Description"] = "Use ToolNexus for fast, browser-based developer tools including formatters, converters, and validators.";
    ViewData["CanonicalUrl"] = $"{baseUrl}/";
    ViewData["Keywords"] = "developer tools, online formatter, converters, validators";
    ViewData["JsonLd"] = System.Text.Json.JsonSerializer.Serialize(new
    {
        @context = "https://schema.org",
        @type = "WebSite",
        name = "ToolNexus",
        url = $"{baseUrl}/",
        description = "Free online developer tools.",
        potentialAction = new
        {
            @type = "SearchAction",
            target = $"{baseUrl}/tools?search={{search_term_string}}",
            query_input = "required name=search_term_string"
        }
    });
}

<section>
  <h1>Developer tools that stay out of your way</h1>
  <input id="toolSearch" class="search" placeholder="Search tools..." />
  <div class="grid" id="featuredGrid">
    @foreach (var tool in Model.FeaturedTools)
    {
      <a class="card" href="/tools/@tool.Slug">
        <h3>@tool.Title</h3>
        <p>@tool.SeoDescription</p>
      </a>
    }
  </div>
</section>

@section Scripts {
<script>
  const searchBox = document.getElementById('toolSearch');
  const cards = Array.from(document.querySelectorAll('#featuredGrid .card'));
  searchBox?.addEventListener('input', e => {
    const q = e.target.value.toLowerCase();
    cards.forEach(c => c.style.display = c.innerText.toLowerCase().includes(q) ? 'block' : 'none');
  });
</script>
}
